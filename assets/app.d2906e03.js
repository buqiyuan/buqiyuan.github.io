import{d as e,a5 as a,h as t,c as n,k as o,R as s,a3 as r,o as c,_ as l,aa as u,ab as p,f as i,W as m,ac as d,ad as f,ae as h,af as v,ag as g,ah as b,ai as y,aj as A,ak as k,al as x,Z as w,u as _,j as P,A as j,am as C,an as $,ao as E}from"./chunks/framework.71980bd8.js";import{t as R}from"./chunks/theme.e3f83fbb.js";const q=["onWheel"],I=["src"],L=l(e({inheritAttrs:!1,__name:"ImgPreviewer",props:{url:String},emits:["click"],setup(e,{emit:l}){a((e=>({"73f2dd90":i.value,"71b65cf8":m.value,"71b65cf6":d.value,"3db96450":u.value})));const u=t(1),p=t(),i=t("center"),m=t("0px"),d=t("0px");let f=!1,h=!1,v={x:0,y:0};const g=e=>{setTimeout((()=>{f?f=!1:l("click",e)}),80)},b=e=>{const{deltaY:a,offsetX:t,offsetY:n}=e;a&&(i.value=`${t}px ${n}px`,a<0?u.value+=.1:a>0&&u.value>.6&&(u.value-=.1))},y=e=>{h=!0;const{clientX:a,clientY:t}=e;v={x:a-parseFloat(m.value),y:t-parseFloat(d.value)}},A=e=>{if(h){f=!0;const{clientX:a,clientY:t}=e;m.value=a-v.x+"px",d.value=t-v.y+"px"}},k=e=>{setTimeout((()=>{h=f=!1}),100)};return(a,t)=>(c(),n("div",{class:"modal",onClick:g,onWheel:r(b,["prevent"]),onPointerdown:y,onPointerup:k,onPointermove:A},[o("img",s({ref_key:"imgRef",ref:p,src:e.url},a.$attrs,{draggable:"false"}),null,16,I)],40,q))}}),[["__scopeId","data-v-2ed882be"]]);L.show=e=>{const a=document.createElement("div"),t={...e,onClick:async()=>{var t;await(null==(t=e.onClick)?void 0:t.call(e)),a.remove()}};u(p(L,t),a),document.body.appendChild(a)};const O={...R,async enhanceApp({app:e,router:a}){e.config.globalProperties.$withBase=e=>{let a=i(e);return a="buqiyuan.gitee.io"===location.hostname?"/buqiyuan/"+e:`/${e}`,a.replace(/\/{2,}/g,"/")},m&&(a.onBeforePageLoad=e=>!(a.route.path.length>1&&a.route.path===new URL(e).pathname),a.onAfterRouteChanged=e=>{requestIdleCallback((()=>{document.querySelectorAll(".vp-doc img").forEach((e=>{e.onclick=Y}))}))})}},Y=e=>{const a=e.target,t=Object.fromEntries(Array.from(a.attributes).map((({name:e,value:a})=>[e,a])));L.show(t)};const F=function e(a){if(a.extends){const t=e(a.extends);return{...t,...a,async enhanceApp(e){t.enhanceApp&&await t.enhanceApp(e),a.enhanceApp&&await a.enhanceApp(e)}}}return a}(O),T=e({name:"VitePressApp",setup(){const{site:e}=_();return P((()=>{j((()=>{document.documentElement.lang=e.value.lang,document.documentElement.dir=e.value.dir}))})),C(),$(),E(),F.setup&&F.setup(),()=>p(F.Layout)}});async function W(){const e=function(){let e,a=m;return k((t=>{let n=x(t);return n?(a&&(e=n),(a||e===n)&&(n=n.replace(/\.js$/,".lean.js")),m&&(a=!1),w((()=>import(n)),[])):null}),F.NotFound)}(),a=A(T);a.provide(f,e);const t=h(e.route);return a.provide(v,t),a.component("Content",g),a.component("ClientOnly",b),Object.defineProperties(a.config.globalProperties,{$frontmatter:{get:()=>t.frontmatter.value},$params:{get:()=>t.page.value.params}}),F.enhanceApp&&await F.enhanceApp({app:a,router:e,siteData:y}),{app:a,router:e,data:t}}m&&W().then((({app:e,router:a,data:t})=>{a.go().then((()=>{d(a.route,t.site),e.mount("#app")}))}));export{W as createApp};
