import{_ as s,c as n,k as a,a as l,t as p,Q as o,o as e}from"./chunks/framework.77411f84.js";const t=JSON.parse('{"title":".npmrc 小记","description":"","frontmatter":{"title":".npmrc 小记","author":"猿谋人","date":"2021/08/13","tags":["npm"],"editLink":false},"headers":[],"relativePath":"essay/2022/npmrc小记.md","filePath":"essay/2022/npmrc小记.md"}'),r={name:"essay/2022/npmrc小记.md"},c={id:"frontmatter-title",tabindex:"-1"},y=a("a",{class:"header-anchor",href:"#frontmatter-title","aria-label":'Permalink to "{{ $frontmatter.title }}"'},"​",-1),i=o('<p><code>.npmrc</code> 是 <code>npm</code> 配置文件，可以通过修改配置项对 <code>npm</code> 做配置</p><blockquote><p>🌰: 修改镜像源</p></blockquote><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">registry</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">https://registry.npmmirror.com</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">registry</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">https://registry.npmmirror.com</span></span></code></pre></div><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;"># 查看所有配置</span></span>\n<span class="line"><span style="color:#B392F0;">npm</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">config</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">ls</span><span style="color:#E1E4E8;"> [-l</span><span style="color:#F97583;">|</span><span style="color:#B392F0;">--json]</span></span>\n<span class="line"></span>\n<span class="line"><span style="color:#6A737D;"># 查看配置</span></span>\n<span class="line"><span style="color:#B392F0;">npm</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">config</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">get</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">&lt;</span><span style="color:#9ECBFF;">ke</span><span style="color:#E1E4E8;">y</span><span style="color:#F97583;">&gt;</span></span>\n<span class="line"><span style="color:#6A737D;">#OR</span></span>\n<span class="line"><span style="color:#B392F0;">npm</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">get</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">&lt;</span><span style="color:#9ECBFF;">ke</span><span style="color:#E1E4E8;">y</span><span style="color:#F97583;">&gt;</span></span>\n<span class="line"></span>\n<span class="line"><span style="color:#6A737D;"># 查看配置</span></span>\n<span class="line"><span style="color:#B392F0;">npm</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">config</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">delete</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">&lt;</span><span style="color:#9ECBFF;">ke</span><span style="color:#E1E4E8;">y</span><span style="color:#F97583;">&gt;</span></span>\n<span class="line"></span>\n<span class="line"><span style="color:#6A737D;"># 修改配置</span></span>\n<span class="line"><span style="color:#B392F0;">npm</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">config</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">set</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">&lt;</span><span style="color:#9ECBFF;">ke</span><span style="color:#E1E4E8;">y</span><span style="color:#F97583;">&gt;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">&lt;</span><span style="color:#9ECBFF;">valu</span><span style="color:#E1E4E8;">e</span><span style="color:#F97583;">&gt;</span></span>\n<span class="line"><span style="color:#6A737D;">#OR</span></span>\n<span class="line"><span style="color:#B392F0;">npm</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">set</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">&lt;</span><span style="color:#9ECBFF;">ke</span><span style="color:#E1E4E8;">y</span><span style="color:#F97583;">&gt;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">&lt;</span><span style="color:#9ECBFF;">valu</span><span style="color:#E1E4E8;">e</span><span style="color:#F97583;">&gt;</span></span>\n<span class="line"></span>\n<span class="line"><span style="color:#6A737D;"># 编辑配置文件</span></span>\n<span class="line"><span style="color:#B392F0;">npm</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">config</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">edit</span><span style="color:#E1E4E8;"> [-g</span><span style="color:#F97583;">|</span><span style="color:#B392F0;">--global]</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;"># 查看所有配置</span></span>\n<span class="line"><span style="color:#6F42C1;">npm</span><span style="color:#24292E;"> </span><span style="color:#032F62;">config</span><span style="color:#24292E;"> </span><span style="color:#032F62;">ls</span><span style="color:#24292E;"> [-l</span><span style="color:#D73A49;">|</span><span style="color:#6F42C1;">--json]</span></span>\n<span class="line"></span>\n<span class="line"><span style="color:#6A737D;"># 查看配置</span></span>\n<span class="line"><span style="color:#6F42C1;">npm</span><span style="color:#24292E;"> </span><span style="color:#032F62;">config</span><span style="color:#24292E;"> </span><span style="color:#032F62;">get</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&lt;</span><span style="color:#032F62;">ke</span><span style="color:#24292E;">y</span><span style="color:#D73A49;">&gt;</span></span>\n<span class="line"><span style="color:#6A737D;">#OR</span></span>\n<span class="line"><span style="color:#6F42C1;">npm</span><span style="color:#24292E;"> </span><span style="color:#032F62;">get</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&lt;</span><span style="color:#032F62;">ke</span><span style="color:#24292E;">y</span><span style="color:#D73A49;">&gt;</span></span>\n<span class="line"></span>\n<span class="line"><span style="color:#6A737D;"># 查看配置</span></span>\n<span class="line"><span style="color:#6F42C1;">npm</span><span style="color:#24292E;"> </span><span style="color:#032F62;">config</span><span style="color:#24292E;"> </span><span style="color:#032F62;">delete</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&lt;</span><span style="color:#032F62;">ke</span><span style="color:#24292E;">y</span><span style="color:#D73A49;">&gt;</span></span>\n<span class="line"></span>\n<span class="line"><span style="color:#6A737D;"># 修改配置</span></span>\n<span class="line"><span style="color:#6F42C1;">npm</span><span style="color:#24292E;"> </span><span style="color:#032F62;">config</span><span style="color:#24292E;"> </span><span style="color:#032F62;">set</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&lt;</span><span style="color:#032F62;">ke</span><span style="color:#24292E;">y</span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&lt;</span><span style="color:#032F62;">valu</span><span style="color:#24292E;">e</span><span style="color:#D73A49;">&gt;</span></span>\n<span class="line"><span style="color:#6A737D;">#OR</span></span>\n<span class="line"><span style="color:#6F42C1;">npm</span><span style="color:#24292E;"> </span><span style="color:#032F62;">set</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&lt;</span><span style="color:#032F62;">ke</span><span style="color:#24292E;">y</span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&lt;</span><span style="color:#032F62;">valu</span><span style="color:#24292E;">e</span><span style="color:#D73A49;">&gt;</span></span>\n<span class="line"></span>\n<span class="line"><span style="color:#6A737D;"># 编辑配置文件</span></span>\n<span class="line"><span style="color:#6F42C1;">npm</span><span style="color:#24292E;"> </span><span style="color:#032F62;">config</span><span style="color:#24292E;"> </span><span style="color:#032F62;">edit</span><span style="color:#24292E;"> [-g</span><span style="color:#D73A49;">|</span><span style="color:#6F42C1;">--global]</span></span></code></pre></div><p><a href="https://docs.npmjs.com/cli/v8/using-npm/config#config-settings" target="_blank" rel="noreferrer">配置说明</a></p><h2 id="配置读取顺序" tabindex="-1">配置读取顺序 <a class="header-anchor" href="#配置读取顺序" aria-label="Permalink to &quot;配置读取顺序&quot;">​</a></h2><ol><li>命令行</li><li>项目配置(项目根目录下的 <code>npmrc</code> 文件)</li><li>用户配置(用 <code>npm config get userconfig</code> 查看文件位置)</li><li>全局配置(用 <code>npm config get prefix</code> 查看文件位置)</li><li>默认配置</li></ol><h2 id="其他包管理器" tabindex="-1">其他包管理器 <a class="header-anchor" href="#其他包管理器" aria-label="Permalink to &quot;其他包管理器&quot;">​</a></h2><h3 id="yarn" tabindex="-1">yarn <a class="header-anchor" href="#yarn" aria-label="Permalink to &quot;yarn&quot;">​</a></h3><ul><li><p><a href="https://github.com/yarnpkg/yarn" target="_blank" rel="noreferrer">yarn 1</a> 使用 <code>.yarnrc</code> 和 <code>.npmrc</code> 文件</p></li><li><p><a href="https://github.com/yarnpkg/berry" target="_blank" rel="noreferrer">yarn 2</a> 使用 <code>.yarnrc.yml</code> 文件(不再使用 <code>.yarnrc</code> 和 <code>.npmrc</code>)</p><ul><li><a href="https://yarnpkg.com/getting-started/migration#dont-use-npmrc-files" target="_blank" rel="noreferrer">相关说明</a></li></ul></li></ul><h4 id="踩坑点" tabindex="-1">踩坑点 <a class="header-anchor" href="#踩坑点" aria-label="Permalink to &quot;踩坑点&quot;">​</a></h4><p>在 <code>yarn 1</code> 中如果同时存在 <code>.yarnrc</code> 和 <code>.npmrc</code> 文件时， <code>.npmrc</code> 优先级高于 <code>.yarnrc</code> 当我们使用 <code>yarn 1</code> 时项目只需要配置 <code>.pmrc</code> 文件</p><ul><li><p>相关 issues</p><ul><li><a href="https://github.com/yarnpkg/yarn/issues/3683" target="_blank" rel="noreferrer">#3683</a></li><li><a href="https://github.com/yarnpkg/yarn/issues/2672" target="_blank" rel="noreferrer">#2672</a></li></ul></li></ul><h3 id="pnpm" tabindex="-1">pnpm <a class="header-anchor" href="#pnpm" aria-label="Permalink to &quot;pnpm&quot;">​</a></h3><p><a href="https://pnpm.io/zh/" target="_blank" rel="noreferrer">pnpm</a> 使用 <code>.npmrc</code> 文件</p>',15);const E=s(r,[["render",function(s,o,t,r,E,d){return e(),n("div",null,[a("h1",c,[l(p(s.$frontmatter.title)+" ",1),y]),i])}]]);export{t as __pageData,E as default};
